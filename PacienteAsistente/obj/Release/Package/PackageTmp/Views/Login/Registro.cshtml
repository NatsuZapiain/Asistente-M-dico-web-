@model PacienteAsistente.Model.Models.LoginLocalViewModel
@{
    ViewBag.Title = "Registro Usuario";
    Layout = "../Shared/_MyLayout.cshtml";
}

<div>
    @using (Html.BeginForm("Registro", "Login", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary("", new { @class = "text-danger", style = "color: red" })
        <div class="row">
            <div class="form-group">
                <h2 style="display: inline-block;"> Correo: </h2>
                <div style="display: inline-block">
                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control", id = "email", type="email", required="required" })
                </div>
            </div>
            <div class="form-group">
                <h2 style="display: inline-block;">Contraseña: </h2>
                <div style="display: inline-block">
                    @Html.TextBoxFor(m => m.Pass, new { @class = "form-control", type = "password", id = "pass", required="required" })
                </div>
            </div>
            <div class="form-group">
                <h2 style="display: inline-block;">Confirmar Contraseña: </h2>
                <div style="display: inline-block">
                    @Html.TextBoxFor(m => m.ConfirmPass, new { @class = "form-control", type = "password", id = "confirm", required="required" })
                </div>
            </div>
            <div class="form-group">
                <h2 style="display: inline-block;">Rol: </h2>
                <div style="display: inline-block">
                    @Html.DropDownListFor(x => x.Rol, new List<SelectListItem>
                    {
                        new SelectListItem {Text = "Paciente", Value = "Paciente"},
                        new SelectListItem {Text = "Asistente", Value = "Asistente"}
                    }, "Selecciona Rol", new { @class = "form-control", required="required", @onchange = "rol(this.value)" })
                </div>
            </div>
            <div class="form-group" style="display: none" id="code">
                <h2 style="display: inline-block;">Codigo Paciente: </h2>
                <div style="display: inline-block">
                    @Html.TextBoxFor(m => m.CodePaciente, new { @class = "form-control", type = "text", id = "code" })
                </div>
            </div>
            <div class="form-group">
                <button type="submit">Registrar</button>
            </div>
        </div>
    }
</div>
<br/>
<div>
    <a href="@Url.Action("InicioSesion", "Login")">Iniciar Sesión</a>
</div>
<script>
    function rol(value) {
        if (value === "Paciente") {
            document.getElementById("code").style.display = "none";
        }
        if (value === "Asistente") {
            document.getElementById("code").style.display = "block";
        }
    }
</script>